<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inventory</title>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="/bootstrap-icons/font/bootstrap-icons.min.css"
    />
    <link
      rel="stylesheet"
      href="/datatables.net-dt/css/dataTables.dataTables.css"
    />
    <script src="/jquery/jquery.min.js"></script>
    <script src="/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- DataTables and ColReorder from CDN, matching version -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css"
    />
    <!-- <link
      rel="stylesheet"
      href="https://cdn.datatables.net/colreorder/1.5.0/css/colReorder.dataTables.min.css"
    /> -->

    <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
    <!-- <script src="https://cdn.datatables.net/colreorder/1.5.0/js/dataTables.colReorder.min.js"></script> -->

    <!-- Buttons Extension -->
    <link
      rel="stylesheet"
      href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css"
    />
    <!-- <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script> -->

    <!-- Dependencies for PDF/Excel export -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script> -->
    <script src="inventory.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <link rel="stylesheet" href="inventory.css" />
  </head>

  <body>
    <div class="card shadow-lg rounded p-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="mb-0">INVENTORY</h2>
        <button
          class="btn btn-warning btn-sm add-item"
          data-bs-toggle="modal"
          data-bs-target="#addItem"
        >
          Add Item
        </button>
      </div>

      <div class="container mt-5">
        <div class="row mb-3 justify-content-center">
          <div class="row mb-3">
            <!-- Left side -->
            <div class="col-md-5 d-flex align-items-center">
              <label for="item" class="col-sm-4 col-form-label">Item:</label>
              <div class="col-sm-8">
                <input
                  type="item"
                  class="form-control criteria"
                  id="itemSearch"
                  name="item"
                  tabindex="1"
                />
              </div>
            </div>

            <!-- Right side -->
            <div class="col-md-5 d-flex align-items-center">
              <label for="status" class="col-sm-4 col-form-label"
                >Item Status</label
              >
              <div class="col-sm-8">
                <select
                  class="form-select criteria"
                  id="ItemStatus"
                  name="status"
                >
                  <option selected value="">Select a Status</option>
                  <option value="In Stock">In Stock</option>
                  <option value="For Reorder">For Reorder</option>
                  <option value="Out of Stock">Out of Stock</option>
                </select>
              </div>
            </div>

            <div class="col-md-2 d-flex align-items-center">
              <button
                type="button"
                class="btn btn-info btn-md w-50  me-2"
                onclick="clearCriteria()"
              >
                Clear
              </button>
              <button
                type="button"
                class="btn btn-success btn-md w-50"
                onclick="searchInventory()"
              >
                Search
              </button>
            </div>
          </div>
        </div>
      </div>

      <table
        id="inventoryTable"
        class="table table-light table-striped table-bordered table-hover"
      >
        <thead>
          <tr>
            <th>ID</th>
            <th>Action</th>
            <th>Item</th>
            <th>Category</th>
            <th>Quantity</th>
            <th>Price</th>
            <th>Status</th>
          </tr>
        </thead>
      </table>
    </div>
  </body>
  <!-- ADD ITEM Modal -->
  <div
    class="modal fade"
    id="addItem"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Add Item</h1>
          <input type="hidden" id="modal_user_id" />
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>

        <div class="modal-body">
          <div class="container mt-4">
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="addItem" class="col-sm-4 col-form-label">Item:</label>
              <div class="col-sm-8">
                <input type="text" class="form-control" id="addItem2" />
              </div>
            </div>
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="addCategory" class="col-sm-4 col-form-label"
                >Category:</label
              >
              <div class="col-sm-8">
                <select class="form-select criteria" id="addCategory">
                  <option selected value=""></option>
                  <option value="1">Medicines / Pharmaceuticals</option>
                  <option value="2">Personal Protective Equipment (PPE)</option>
                  <option value="3">Medical Instruments / Tools</option>
                  <option value="4">Surgical Supplies</option>
                  <option value="5">Consumables / Disposables</option>
                  <option value="6">Cleaning and Disinfection Supplies</option>
                  <option value="7">Diagnostic Supplies</option>
                  <option value="8">IV Supplies</option>
                  <option value="9">Office and Stationery Supplies</option>
                  <option value="10">Equipment and Devices</option>
                  <option value="11">Vaccines</option>
                  <option value="12">Reagents / Lab Supplies</option>
                </select>
              </div>
            </div>
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="addQuantity" class="col-sm-4 col-form-label"
                >Quantity:</label
              >
              <div class="col-sm-8">
                <input type="number" class="form-control" id="addQuantity" />
              </div>
            </div>

            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="addMinimum" class="col-sm-4 col-form-label"
                >Minimum Quantity:</label
              >
              <div class="col-sm-8">
                <input type="number" class="form-control" id="addMinimum" />
              </div>
            </div>
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="addPrice" class="col-sm-4 col-form-label"
                >Price:
              </label>
              <div class="col-sm-8">
                <input
                  type="number"
                  class="form-control"
                  id="addPrice"
                  placeholder="₱"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="discardChanges()">Discard</button>
          <button type="button" class="btn btn-primary" onclick="saveItem()">
            Save Item
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- UPDATE ITEM Modal -->
  <div
    class="modal fade"
    id="updateItem"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog modal-md">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Update Item</h1>
          <input type="hidden" id="modal_user_id" />
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>

        <div class="modal-body">
          <div class="container mt-4">
            <input type="hidden" class="form-control" id="updateID" />
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="updateItem" class="col-sm-4 col-form-label"
                >Item:</label
              >
              <div class="col-sm-8">
                <input type="text" class="form-control" id="updateItemName" />
              </div>
            </div>
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="updateCategory" class="col-sm-4 col-form-label"
                >Category:</label
              >
              <div class="col-sm-8">
                <select class="form-select criteria" id="updateCategory">
                  <option selected value=""></option>
                  <option value="1">Medicines / Pharmaceuticals</option>
                  <option value="2">Personal Protective Equipment (PPE)</option>
                  <option value="3">Medical Instruments / Tools</option>
                  <option value="4">Surgical Supplies</option>
                  <option value="5">Consumables / Disposables</option>
                  <option value="6">Cleaning and Disinfection Supplies</option>
                  <option value="7">Diagnostic Supplies</option>
                  <option value="8">IV Supplies</option>
                  <option value="9">Office and Stationery Supplies</option>
                  <option value="10">Equipment and Devices</option>
                  <option value="11">Vaccines</option>
                  <option value="12">Reagents / Lab Supplies</option>
                </select>
              </div>
            </div>
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="updateQuantity" class="col-sm-4 col-form-label"
                >Quantity:</label
              >
              <div class="col-sm-8">
                <input type="number" class="form-control" id="updateQuantity" />
              </div>
            </div>

            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="updateMinimum" class="col-sm-4 col-form-label"
                >Minimum Quantity:</label
              >
              <div class="col-sm-8">
                <input type="number" class="form-control" id="updateMinimum" />
              </div>
            </div>
            <div class="col-md-10 d-flex align-items-center mb-2">
              <label for="updatePrice" class="col-sm-4 col-form-label"
                >Price:
              </label>
              <div class="col-sm-8">
                <input
                  type="number"
                  class="form-control"
                  id="updatePrice"
                  placeholder="₱"
                />
              </div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="discardChanges()">Discard</button>
          <button type="button" class="btn btn-primary" onclick="updateItem()">
            Update Item
          </button>
        </div>
      </div>
    </div>
  </div>
</html>
